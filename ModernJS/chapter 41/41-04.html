<!DOCTYPE html>
<html lang="ko">
<body>
<button>Click me !</button>
<pre> 일반 클릭 이벤트 카운터 <span class="normal-msg">0</span></pre>
<pre> 디바운스 이벤트 카운터 <span class="debounce-msg">0</span></pre>
<pre> 쓰로틀 이벤트 카운터 <span class="throttle-msg">0</span></pre>
<script>
    const $button = document.querySelector('button');
    const $normalMsg = document.querySelector('.normal-msg');
    const $debouceMsg = document.querySelector('.debounce-msg');
    const $throttleMsg = document.querySelector('.throttle-msg');

    const debounce = (callback, delay) => {
        let timerId;
        return (...args) => {
            if (timerId) clearTimeout(timerId);
            timerId = setTimeout(callback, delay, ...args);
        };
    };

    const throttle = (callback, delay) => {
        let timerId;
        return (...args) => {
            if (timerId) return;
            timerId = setTimeout(() => {
                callback(...args);
                timerId = null;
            }, delay);
        };
    };

    $button.addEventListener('click', () => {
        $normalMsg.textContent = +$normalMsg.textContent + 1;
    });

    $button.addEventListener('click', debounce(() => {
        $debouceMsg.textContent = +$debouceMsg.textContent + 1;
    }, 500));

    $button.addEventListener('click', throttle(() => {
        $throttleMsg.textContent = +$throttleMsg.textContent + 1;
    }, 500));
</script>
</body>
</html>